## 2021

### 9/26

#### 完成

- 修改境界系统技术方案(6h)
- 修改不能发包的 bug (0.25h)

### 9/27

#### 完成

- 完成了提示文本和信息框(2h)
- 完成了「透明度」缓动函数和挂机系统的提示(2h)

- 开完了境界系统技术方案考察会(0.5h)

- 完成了境界系统的部分框架搭建(1h)
- 完成了境界系统 `manager.lua` ，添加了玩家上线和下线的流程(1h)
- 完成了境界系统 `data.lua` ，添加对存储数据修改的方法(1h)
- 完成了境界系统 `action` 模块的一部分，添加了 `normal_action.lua`，完成了人物属性检测和功夫等级检测(1h)

### 9/28

#### 完成

- 封装了注册 npc 对话的接口(2h)

- 完善了 `normal_action.lua` 「普通境界提升」的流程(1h)

- 添加了提示境界后的流程(1h)
- 查找并且修复 NPC 对话系统的 bug (2h)

### 9/29

#### 完成

- 定义了「打通任督二脉」的流程(2h)

- 补充完成了「打通任督二脉」的大体流程(3h)

- 优化了缓动函数，从逻辑帧控制改为渲染帧控制，动画丝滑很多(2h)

- 修复了缓动函数回调被多次调用的bug(3h)

    > 原因是逻辑帧与渲染帧组合使用，渲染帧跑完时，逻辑帧还没跑完，导致回调在每隔渲染帧调用一直到逻辑帧跑完。

- 给功夫系统的UI添加了众多动画(2h)

#### 踩坑

- lua 的外部局部变量

    lua 中每一个函数引用的外部局部变量 [upvalue] ，会被放进数组和函数的原型引用保存。这里要注意，所有的外部局部变量保存的是引用！！！包括基本类型（int、string），使用的时候切记！！！

### 9/30

- 写完了 entity.doMove() 接口(1h)
- 与美术讨论动画的问题(1h)
- 开会(1h)
- 读 DoTween 源码
